<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serverless - Waverless</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo"><i class="fas fa-bolt"></i><span>Waverless</span></div>
        <nav class="nav-menu">
            <a href="index.html" class="nav-item"><i class="fas fa-th-large"></i><span>Dashboard</span></a>
            <a href="serverless.html" class="nav-item active"><i class="fas fa-rocket"></i><span>Serverless</span></a>
            <a href="endpoints.html" class="nav-item"><i class="fas fa-server"></i><span>Endpoints</span></a>
            <a href="tasks.html" class="nav-item"><i class="fas fa-tasks"></i><span>Tasks</span></a>
            <a href="metrics.html" class="nav-item"><i class="fas fa-microchip"></i><span>Metrics</span></a>
        </nav>
    </div>

    <div class="main-content">
        <header class="header">
            <h1 class="page-title">Serverless</h1>
            <div class="user-info"><div class="user-avatar">A</div><span>Admin</span></div>
        </header>

        <div class="content">
            <div class="card" style="margin-bottom: 20px;">
                <div class="card-header"><h3>Quickly Create</h3></div>
                <div style="padding: 20px;">
                    <div class="specs-grid">
                        <div class="spec-card" onclick="openModal('RTX 4090', '24GB', 0.000233, 'Great for running Llama3 8B and Mistral 7B models.')">
                            <div class="spec-header"><span class="spec-vram">24GB</span><span class="spec-gpu">RTX 4090</span></div>
                            <div class="spec-desc">Great for running <strong>Llama3 8B</strong> and <strong>Mistral 7B</strong> models.</div>
                            <div class="spec-footer">
                                <span class="spec-price">$0.000233/s</span>
                                <button class="btn btn-primary">Create Endpoint</button>
                            </div>
                        </div>
                        <div class="spec-card" onclick="openModal('A100 SXM4', '80GB', 0.000424, 'Powerful GPU, engineered for AI and high-performance computing.')">
                            <div class="spec-header"><span class="spec-vram">80GB</span><span class="spec-gpu">A100 SXM4</span></div>
                            <div class="spec-desc">Powerful GPU, engineered for AI and high-performance computing.</div>
                            <div class="spec-footer">
                                <span class="spec-price">$0.000424/s</span>
                                <button class="btn btn-primary">Create Endpoint</button>
                            </div>
                        </div>
                        <div class="spec-card" onclick="openModal('RTX 3090', '24GB', 0.000073, 'Cost-effective option for inference workloads.')">
                            <div class="spec-header"><span class="spec-vram">24GB</span><span class="spec-gpu">RTX 3090</span></div>
                            <div class="spec-desc">Cost-effective option for inference workloads.</div>
                            <div class="spec-footer">
                                <span class="spec-price">$0.000073/s</span>
                                <button class="btn btn-primary">Create Endpoint</button>
                            </div>
                        </div>
                        <div class="spec-card" onclick="openModal('H100 SXM', '80GB', 0.001003, 'Top-tier performance for large model training and inference.')">
                            <div class="spec-header"><span class="spec-vram">80GB</span><span class="spec-gpu">H100 SXM 80GB</span></div>
                            <div class="spec-desc">Top-tier performance for large model training and inference.</div>
                            <div class="spec-footer">
                                <span class="spec-price">$0.001003/s</span>
                                <button class="btn btn-primary">Create Endpoint</button>
                            </div>
                        </div>
                        <div class="spec-card" onclick="openModal('RTX 5090', '32GB', 0.000171, 'Next-gen GPU with enhanced AI capabilities.')">
                            <div class="spec-header"><span class="spec-vram">32GB</span><span class="spec-gpu">RTX 5090</span></div>
                            <div class="spec-desc">Next-gen GPU with enhanced AI capabilities.</div>
                            <div class="spec-footer">
                                <span class="spec-price">$0.000171/s</span>
                                <button class="btn btn-primary">Create Endpoint</button>
                            </div>
                        </div>
                        <div class="spec-card" onclick="openModal('L40S', '48GB', 0.000188, 'Optimized for generative AI and graphics workloads.')">
                            <div class="spec-header"><span class="spec-vram">48GB</span><span class="spec-gpu">L40S</span></div>
                            <div class="spec-desc">Optimized for generative AI and graphics workloads.</div>
                            <div class="spec-footer">
                                <span class="spec-price">$0.000188/s</span>
                                <button class="btn btn-primary">Create Endpoint</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Endpoint Modal -->
    <div class="modal-overlay" id="modal">
        <div class="modal">
            <div class="modal-header">
                <h2>Create Endpoint</h2>
                <button class="modal-close" onclick="closeModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label"><span class="required">*</span> Endpoint Name</label>
                        <input type="text" class="form-input" id="endpointName" placeholder="my-endpoint">
                    </div>
                    <div class="form-group">
                        <label class="form-label">App Name <i class="fas fa-question-circle" style="color:#9ca3af;font-size:12px;"></i></label>
                        <input type="text" class="form-input" placeholder="Optional">
                    </div>
                </div>

                <div class="form-section">
                    <div class="form-section-title">Worker Configuration</div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label"><span class="required">*</span> Workers Min <i class="fas fa-question-circle" style="color:#9ca3af;font-size:12px;"></i></label>
                            <input type="number" class="form-input" value="1" min="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><span class="required">*</span> Workers Max <i class="fas fa-question-circle" style="color:#9ca3af;font-size:12px;"></i></label>
                            <input type="number" class="form-input" value="3" min="1">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label"><span class="required">*</span> Idle Timeout (seconds) <i class="fas fa-question-circle" style="color:#9ca3af;font-size:12px;"></i></label>
                            <input type="number" class="form-input" value="60" min="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><span class="required">*</span> Max Concurrency</label>
                            <input type="number" class="form-input" value="1" min="1">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label"><span class="required">*</span> GPUs / Worker</label>
                            <select class="form-select">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="4">4</option>
                                <option value="8">8</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><span class="required">*</span> CUDA Version</label>
                            <select class="form-select">
                                <option value="any">Any</option>
                                <option value="12.1">12.1</option>
                                <option value="11.8">11.8</option>
                                <option value="11.7">11.7</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label"><span class="required">*</span> Queue Timeout (seconds) <i class="fas fa-question-circle" style="color:#9ca3af;font-size:12px;"></i></label>
                            <input type="number" class="form-input" value="120" min="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Type</label>
                            <div class="radio-group" style="margin-top: 8px;">
                                <label class="radio-label"><input type="radio" name="type" value="sync" checked> Sync</label>
                                <label class="radio-label"><input type="radio" name="type" value="async"> Async</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="price-info">
                    Serverless price: <span id="modalPrice">$0.000233/Worker/sec</span> &nbsp;&nbsp;
                    Storage price: <span>$0.005/GB/day</span>
                </div>
                <button class="btn btn-primary" onclick="deploy()">Deploy</button>
            </div>
        </div>
    </div>

    <script>
        let currentSpec = {};

        function openModal(gpu, vram, price, desc) {
            currentSpec = { gpu, vram, price, desc };
            document.getElementById('modal').classList.add('active');
            document.getElementById('modalPrice').textContent = `$${price}/Worker/sec`;
            document.getElementById('endpointName').value = generateId();
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function generateId() {
            return Math.random().toString(36).substring(2, 12);
        }

        function deploy() {
            alert('Endpoint created successfully!');
            closeModal();
        }

        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });
    </script>
</body>
</html>
